# Pixel Battle Server

Это серверная часть проекта **Pixel Battle**. Он отвечает за логику игры, управление взаимодействиями игроков и предоставляет API для фронтенда.

## Запуск сервера

Для запуска сервера запустите Docker и выполните команду docker compose up -d.

При запуске без указания флагов или переменных окружения, автоматически берется путь `./backend/internal/config/config.yaml` (название файла **должно быть обязательно** config.yaml)
Также можно указать флаг запуска `--config`:

```bash
./main.exe --config ./path/to/config/file/
```

### 1. **Использование переменной окружения**

При запуске ./main, переменные окружение автоматически установятся в систему из .env файла который находится в ./backend папке

### Конфигурационный файл

Сервер читает конфигурацию из **YAML** файла, обычно называемого `config.yaml` и .env с паролями(или другими чувствительными данными). Убедитесь, что ваш конфигурационный файл настроен с необходимыми параметрами, такими как настройки сервера, подключение к базе данных и т. д.

### Пример конфигурационного файла `config.yaml`:

```yaml
enviroment: dev
server:
  host: "localhost"
  port: 8080
  timeout: 10s
  idle_timeout: 60s

redis:
  host: "127.0.0.1"
  port: 6379
  db: 0
  max_retries: 5
  dial_timeout: 10s
  timeout: 5s
nats:
  url: "localhost:4222"
```

### Пример конфигурационного файла `.env`:

```env
REDIS_PASSWORD=password
REDIS_USER=user
REDIS_USER_PASSWORD=user_password
```

### Ошибки и устранение неисправностей

- **Если путь к конфигурационному файлу указан неверно**: Сервер завершит работу с ошибкой и выведет сообщение о том, что файл конфигурации не найден.
- **Если возникнут ошибки с параметрами конфигурации**: Убедитесь, что все необходимые поля правильно указаны в файле `config.yaml`.
